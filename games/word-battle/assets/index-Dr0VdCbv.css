:root{--bg: #0b1220;--panel: #121a2b;--text: #e8edf7;--muted: #a8b2c7;--brand: #7c5cff;--ok: #2ecc71;--ng: #ff5c7c;--shadow: 0 10px 24px rgba(0, 0, 0, .35);color-scheme:dark;font-family:system-ui,-apple-system,Segoe UI,Roboto,Hiragino Sans,Noto Sans JP,sans-serif;line-height:1.4;font-weight:400;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*{box-sizing:border-box}html,body{margin:0;padding:0;min-height:100%}body{background:radial-gradient(800px 500px at 20% -10%,rgba(124,92,255,.35),transparent 55%),radial-gradient(700px 500px at 100% 10%,rgba(46,204,113,.18),transparent 55%),var(--bg);color:var(--text);min-height:100vh;min-height:100dvh}a{color:inherit}button,input,select{font-family:inherit}.app{padding-top:48px;padding-bottom:76px;max-width:560px;margin:0 auto}.app-back{display:block;padding:10px 14px 0;color:var(--muted);text-decoration:none;font-size:13px}.topbar{padding:10px 14px 12px;display:flex;gap:10px;align-items:flex-end;justify-content:space-between}.topbar-name{font-weight:800;letter-spacing:.2px}.topbar-sub{color:var(--muted);font-size:12px;margin-top:4px}.topbar-stats{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}.pill{background:#ffffff0f;border:1px solid rgba(255,255,255,.09);border-radius:999px;padding:6px 10px;display:inline-flex;gap:6px;align-items:baseline}.pill-k{color:var(--muted);font-size:11px}.pill-v{font-weight:800;font-size:12px}.screen{padding:0 14px 14px}.panel{background:#121a2be6;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px;box-shadow:var(--shadow);margin-bottom:12px}.panel-title{font-weight:800;margin-bottom:6px}.muted{color:var(--muted);font-size:13px}.row-between{display:flex;align-items:center;justify-content:space-between;gap:10px}.btn{background:var(--brand);border:0;color:#0b1220;font-weight:900;padding:10px 12px;border-radius:12px;cursor:pointer}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-secondary{background:#ffffff1f;color:var(--text)}.btn-small{padding:8px 10px;border-radius:10px;font-size:12px}.quiz-label{color:var(--muted);font-size:12px}.quiz-prompt{font-size:34px;font-weight:900;letter-spacing:.4px;margin:10px 0 12px}.quiz-choices{display:grid;grid-template-columns:1fr;gap:10px}.choice-btn{background:#ffffff14;border:1px solid rgba(255,255,255,.12);color:var(--text);border-radius:14px;padding:14px 12px;text-align:left;font-weight:800;font-size:16px}.choice-btn:active{transform:scale(.99)}.quiz-feedback{margin-top:12px;font-weight:900}.quiz-feedback.ok{color:var(--ok)}.quiz-feedback.ng{color:var(--ng)}.hint{margin-top:10px;color:#ffffffa6;font-size:12px}.tabnav{position:fixed;left:0;right:0;bottom:0;padding:10px 10px calc(10px + env(safe-area-inset-bottom));background:#0a0e18eb;border-top:1px solid rgba(255,255,255,.08);display:grid;grid-template-columns:repeat(5,1fr);gap:6px;z-index:20}.tabnav-btn{background:#ffffff0f;border:1px solid rgba(255,255,255,.1);color:var(--muted);padding:10px 6px;border-radius:12px;font-weight:800;font-size:12px}.tabnav-btn.is-active{background:#7c5cff59;color:var(--text);border-color:#7c5cff99}.modal-backdrop{position:fixed;inset:0;background:#000000a6;display:grid;place-items:center;padding:16px;z-index:50}.modal{width:min(520px,100%);background:#121a2bfa;border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:14px;box-shadow:var(--shadow)}.modal-title{font-weight:900}.modal-sub{color:var(--muted);margin-top:8px;font-size:12px;text-align:center}.modal-note{color:#ffffff8c;margin-top:10px;font-size:11px;text-align:center}.modal-actions{display:grid;grid-template-columns:1fr;gap:10px;margin-top:12px}.pack{margin:14px auto 0;width:170px;height:120px;position:relative;cursor:pointer}.pack-top{position:absolute;left:0;right:0;top:0;height:34px;background:#ffffff24;border:1px solid rgba(255,255,255,.16);border-bottom:0;border-radius:14px 14px 10px 10px}.pack-body{position:absolute;left:0;right:0;bottom:0;height:90px;background:#7c5cff26;border:1px solid rgba(124,92,255,.3);border-radius:10px 10px 14px 14px}.pack-shine{position:absolute;inset:-10px;background:radial-gradient(80px 60px at 30% 30%,rgba(255,255,255,.25),transparent 60%);opacity:.8;pointer-events:none}.pack-opening{animation:pack-pop .65s ease both}@keyframes pack-pop{0%{transform:scale(.96) rotate(-1deg);filter:brightness(.9)}55%{transform:scale(1.03) rotate(1deg);filter:brightness(1.2)}to{transform:scale(1);filter:brightness(1)}}.card-reveal{margin-top:12px;border:2px solid rgba(255,255,255,.18);border-radius:14px;padding:12px;background:#ffffff0a}.rarity-badge{display:inline-block;color:#0b1220;font-weight:900;border-radius:999px;padding:4px 10px;font-size:12px}.card-name{font-size:26px;font-weight:900;margin-top:10px}.card-sub{color:var(--muted);margin-top:6px;font-size:12px}.card-ability{margin-top:10px;font-weight:800}.card-flavor{margin-top:10px;color:#ffffffb3;font-size:12px}.deck-count{margin:8px 0 10px;font-weight:900}.deck-list{display:grid;grid-template-columns:1fr;gap:8px}.deck-item{border:1px solid rgba(255,255,255,.12);border-left-width:4px;border-radius:12px;padding:10px;display:flex;gap:10px;align-items:center;justify-content:space-between}.deck-item-name{font-weight:900}.deck-item-sub{color:var(--muted);font-size:12px;margin-top:2px}.collection-grid{display:grid;grid-template-columns:1fr;gap:10px;margin-top:10px}.card-chip{text-align:left;background:#ffffff0f;border:1px solid rgba(255,255,255,.12);border-left-width:4px;color:var(--text);border-radius:14px;padding:12px}.card-chip.is-disabled{opacity:.55}.chip-top{display:flex;justify-content:space-between;gap:8px;font-weight:900}.chip-cost{color:#ffffffbf}.chip-mid{display:flex;justify-content:space-between;gap:8px;margin-top:6px;font-size:12px}.chip-bottom{margin-top:6px;color:#ffffffa6;font-size:12px}.battle-screen .panel{margin-bottom:10px}.battle-hp{display:grid;gap:6px}.hp-pill{background:#ffffff0f;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:6px 10px;font-weight:900;font-size:12px}.hp-pill.enemy{border-color:#ff5c7c40}.energy{font-weight:900}.lanes{display:grid;gap:10px;padding:0 14px 10px}.lane-row{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.lane{background:#ffffff0d;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:10px;min-height:86px}.lane.empty{color:#ffffff73}.lane-name{font-weight:900}.lane-hp,.lane-atk{margin-top:4px;font-size:12px;color:#ffffffbf}.lane-picker{display:inline-flex;gap:6px}.lane-btn{background:#ffffff0f;border:1px solid rgba(255,255,255,.1);color:var(--muted);padding:8px 10px;border-radius:10px;font-weight:900;font-size:12px}.lane-btn.is-active{background:#7c5cff59;border-color:#7c5cff99;color:var(--text)}.hand{display:grid;grid-template-columns:1fr;gap:10px;margin-top:10px}.hand-card{text-align:left;background:#ffffff0f;border:1px solid rgba(255,255,255,.12);border-left-width:4px;color:var(--text);border-radius:14px;padding:12px}.hand-card.is-disabled{opacity:.5}.hand-top{display:flex;justify-content:space-between;gap:8px;font-weight:900}.hand-mid{display:flex;justify-content:space-between;gap:8px;margin-top:6px;font-size:12px}.hand-ability{margin-top:6px;font-size:12px;color:#ffffffbf}.log{display:grid;gap:6px;margin-top:8px}.log-line{color:#ffffffbf;font-size:12px}.worddex-list{display:grid;gap:8px;margin-top:10px}.worddex-item{text-align:left;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:10px 12px;color:var(--text)}.worddex-head{font-weight:900;font-size:16px}.worddex-meta{display:flex;justify-content:space-between;gap:10px;margin-top:4px}.pct{font-weight:900}.worddex-detail{margin-top:10px;display:grid;gap:8px}.worddex-row{display:grid;grid-template-columns:64px 1fr;gap:10px}.worddex-row .k{color:var(--muted);font-size:12px}.worddex-row .v{font-size:13px}.shop-grid{display:grid;grid-template-columns:1fr;gap:10px;margin-top:10px}.shop-item{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:12px;display:grid;gap:8px}.shop-name{font-weight:900}
