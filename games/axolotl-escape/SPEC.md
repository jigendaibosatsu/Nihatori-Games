# ウーパーエスケープ - Hades風ローグライクゲーム 仕様書

## ゲーム概要
- **タイプ**: Hades風ローグライクアクションゲーム
- **テーマ**: ウーパーが地下から脱出を目指す
- **コンセプト**: 死んだら最初から、でも永続的な強化で成長していく

## コアシステム

### 1. ダンジョン構造
- **階層**: 複数の階層（例: 3-5階層）
- **部屋**: 各階層は複数の部屋で構成
- **部屋タイプ**:
  - 戦闘部屋: 敵が出現
  - ボーナス部屋: 報酬選択
  - ボス部屋: 階層の最後にボス
  - ショップ部屋: アイテム購入（ランダム）

### 2. 戦闘システム
- **操作**: 
  - 移動: WASD / 矢印キー / タッチ
  - 攻撃: スペース / タップ
  - ダッシュ: Shift / 長押し
- **プレイヤー**:
  - HP: 100（初期値）
  - 攻撃力: 10（初期値）
  - 移動速度: 基本速度
- **敵**:
  - 複数種類の敵
  - HP、攻撃力、移動パターンが異なる
  - 倒すとコイン獲得

### 3. ローグライク要素
- **死んだら最初から**: HPが0になるとリスタート
- **永続的な成長**: 
  - ダークネス（通貨）を獲得
  - ハウスで強化を購入
  - 次回プレイから効果が適用

### 4. ボーナス選択
- **部屋クリア後**: 3つのボーナスから1つ選択
- **ボーナスタイプ**:
  - HP回復
  - 攻撃力アップ
  - 移動速度アップ
  - 特殊能力（例: ダッシュ回数増加）

### 5. ボス戦
- **各階層の最後**: 強力なボスが出現
- **ボスを倒すと**: 次の階層へ進める

## 実装フェーズ

### Phase 1: 基本構造
- HTML/CSS/JSファイル作成
- Canvas設定
- ゲームループ実装

### Phase 2: プレイヤー操作
- 移動システム
- 攻撃システム
- ダッシュシステム

### Phase 3: 敵システム
- 敵の生成
- 敵のAI（移動・攻撃）
- 衝突判定

### Phase 4: ダンジョン生成
- 部屋の生成
- 部屋間の移動
- 部屋タイプの実装

### Phase 5: ボーナス選択
- ボーナス生成
- UI実装
- 効果適用

### Phase 6: 永続的な成長
- ダークネス獲得
- ハウス（強化画面）
- セーブ/ロード

### Phase 7: ボス戦
- ボスの実装
- ボスAI
- 勝利条件

## 技術仕様
- **Canvas**: 2D描画
- **ゲームループ**: requestAnimationFrame
- **セーブ**: localStorage
- **モバイル対応**: タッチ操作
